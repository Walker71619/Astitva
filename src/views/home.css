
.scene {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: #051726;
  cursor: pointer;
}


.layer,
.glow,
.butterfly-wrapper,
.lantern,
.butterfly,
.text-section,
.tree,
.moon {
  position: absolute;
  object-fit: contain;
  pointer-events: none;
  transform: translate3d(0,0,0);
}
.layer {
  inset: 0;
  width: 100%;
  height: 100%;
  will-change: transform, opacity;
  transition: transform 1.2s cubic-bezier(.2,.7,0,1), opacity 1s ease;
}
.base { z-index: 1; }
.bg2 { z-index: 2; }


.bg2-left,
.bg2-right { transform: translate3d(0,0,0); }
.bg2-left  { clip-path: polygon(0 0,50% 0,50% 100%,0 100%); }
.bg2-right { clip-path: polygon(50% 0,100% 0,100% 100%,50% 100%); }


.moon {
  z-index: 3;
  width: 36vw; max-width: 640px;
  top: 8vh; left: 8vw;
  filter:
    drop-shadow(0 0 12px rgba(255,245,200,.65))
    drop-shadow(0 0 28px rgba(190,220,255,.35));
  animation: none !important;
}


.tree {
  z-index: 5;
  width: 88vw; max-width: 1600px;
  right: 2vw; bottom: -3vh;
  filter:
    drop-shadow(0 12px 28px rgba(0,0,0,.55))
    drop-shadow(0 0 28px rgba(60,150,180,.25));
  animation: none !important;
}


.text-section {
  top: 34vh; left: 7vw; z-index: 6;
  color: #fff; max-width: 34rem;
  text-shadow:
    0 0 8px rgba(255,255,255,.8),
    0 0 18px rgba(204,230,255,.6),
    0 0 36px rgba(153,204,255,.35);
  animation: none !important;
  transition: transform 1.2s cubic-bezier(.2,.7,0,1);
}
.title {
  margin: 0 0 .4rem; 
  font-size: clamp(2.6rem,6vw,5.2rem);
  font-weight: 700; line-height: 1;
}
.subtitle {
  margin: 0; 
  font-size: clamp(1.2rem,2.6vw,2.6rem);
}


.lantern {
  z-index: 4; opacity: .95;
  filter:
    drop-shadow(0 0 22px rgba(255,200,140,.9))
    drop-shadow(0 0 44px rgba(255,160,80,.6));
  animation: floatLantern 6s ease-in-out infinite;
}
@keyframes floatLantern {
  0%,100% { transform: translateY(0) translateX(0) scale(1); opacity: .9; }
  25%     { transform: translateY(-12px) translateX(6px) scale(1.05); opacity: 1; }
  50%     { transform: translateY(-24px) translateX(-6px); opacity: .95; }
  75%     { transform: translateY(-12px) translateX(4px) scale(1.03); opacity: 1; }
}


.butterfly-wrapper { z-index: 6; animation: floatButterfly 4s ease-in-out infinite; }
.butterfly {
  filter: drop-shadow(0 0 6px rgba(255,200,240,.8));
  opacity: .95;
  animation: flapWings 1.6s ease-in-out infinite;
}
@keyframes floatButterfly {
  0%,100% { transform: translate(0,0); }
  25%     { transform: translate(6px,-4px); }
  50%     { transform: translate(-6px,-8px); }
  75%     { transform: translate(4px,-4px); }
}
@keyframes flapWings {
  0%,100% { transform: scaleX(1) rotate(0); }
  50%     { transform: scaleX(-1) rotate(-5deg); }
}


.glows { inset: 0; z-index: 4; }
.glow {
  width: 40px; height: 40px; border-radius: 50%;
  background: radial-gradient(circle,rgba(255,160,220,.95) 0%,rgba(255,160,220,.15) 55%,transparent 70%);
  filter: blur(.2px);
  animation: floatGlow 4s ease-in-out infinite alternate;
}
@keyframes floatGlow {
  from { transform: translateY(0) scale(1); opacity: .85; }
  to   { transform: translateY(-10px) scale(1.15); opacity: 1; }
}

/* Edge fade */
.edge-fade {
  inset: 0; z-index: 7;
  background:
    radial-gradient(120% 60% at 50% 105%,rgba(5,23,38,.85),rgba(5,23,38,0) 55%),
    radial-gradient(60% 100% at -5% 50%,rgba(5,23,38,.55),transparent 60%),
    radial-gradient(60% 100% at 105% 50%,rgba(5,23,38,.55),transparent 60%);
  mix-blend-mode: multiply;
}

/* ---------- Active State ---------- */
.scene.active .bg2-left  { transform: translate3d(-35vw,-2vh,0) scale(1.02); }
.scene.active .bg2-right { transform: translate3d(35vw,-2vh,0) scale(1.02); }
.scene.active .moon       { transform: translate3d(-10vw,-4vh,0); opacity: .9; }
.scene.active .tree       { transform: translate3d(-18vw,-2vh,0) scale(1.12); }
.scene.active .text-section { transform: translate3d(18vw,-4vh,0) scale(1.08); }
.scene.active .lantern    { transform: scale(1.2); }

/* ---------- Responsive ---------- */
@media (max-width:900px) {
  .moon { width: 40vw; left: 6vw; top: 6vh; }
  .tree { width: 64vw; right: -4vw; bottom: -1vh; }
  .text-section { top: 22vh; left: 6vw; }
  .scene.active .tree { transform: translate3d(-12vw,-1vh,0) scale(1.08); }
  .scene.active .text-section { transform: translate3d(12vw,-2vh,0) scale(1.06); }
}

